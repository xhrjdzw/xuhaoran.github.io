什么是backlog

backlog其实是一个连接队列：
backlog队列总和=未完成三次握手的队列+已完成三次握手的队列

参数解释说明如下：

未完成三次握手队列：服务器处于listen状态时收到客户端syn 报文(connect)时放入未完成队列中。

已经完成三次握手队列：三路握手的第二个状态即服务器syn+ ack响应client后,此时第三个状态ack报文到达前(客户端对服务器syn的ack)一直保留在未完成连接队列中，如果三路握手完成，该条目将从未完成连接队列搬到已完成连接队列尾部.

backlog参数设置既可以在linux内核参数设置(修改文件/etc/sysctl相关参数)，也可以在socket系统调用listen函数时设置(第二个参数)，这二者区别是，前者为全局性的，影响所有socket，后者为局部性的，影响当前socket。