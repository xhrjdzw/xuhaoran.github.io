# 理解jvm 3 垃圾收集策略详解

java 虚拟机的内存模型分为五个部分，分别是：程序计数器，java虚拟机栈，本地方法栈，堆和方法区

这个五个区域都是存储空间，为了避免java虚拟机在运行期间内存满，就必须要进行垃圾回收。

这就是我们说的GC收集器

程序计数器，Java虚拟机栈，本地方法栈都是线程私有的，也就是每一个线程都拥有这三块区域，而且随着线程的创建而创建，随着线程的结束而结束。因为Java虚拟机栈和本地方法栈都是随着方法的开始而入栈，随着方法的结束而出栈，而且栈帧中的本地变量都是在类被加载的时候就确定的。这三个区域的垃圾回收工作具有确定性，垃圾回收器可以知道何时去清扫这三块区域中的那些数据。

但是重点是堆中的内存清理工作。
堆和方法区所有线程共享，而且都在JVM启动的时候就创建，在JVM停止的时候销毁。虽然每个对象的内存大小在加载该对象的时候就确定了，但是究竟创造多少个对象只有在程序运行期间才能确定
方法区中存放类信息 静态成员变量 常量。 累的加载实在程序的运行过程中，当需要那个类才会加载这个类，所以JVM到底要加载多少个类也是要在运行的时候才能确定。

由于上述的不确定性。才导致GC算法的复杂性。

## 堆内存的回收

### 如何判断哪些对象需要回收？


